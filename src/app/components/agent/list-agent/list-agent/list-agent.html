<div class="dashboard-container">
    <aside class="sidebar">
      <div class="sidebar-header">
        <h2 class="sidebar-title">Panel IA</h2>
      </div>
      
      <nav class="sidebar-nav">
        <ul class="menu-list">
          <li class="menu-item">
            <a href="/">
              <i class="fas fa-home"></i>
              <span>Inicio</span>
            </a>
          </li>
          <li class="menu-item active">
            <a href="/agent">
              <i class="fas fa-robot"></i>
              <span>Agente de IA</span>
            </a>
          </li>
          <li class="menu-item">
            <a href="/consultas">
              <i class="fas fa-comments"></i>
              <span>Consultas</span>
            </a>
          </li>
          <li class="menu-item">
            <a href="/logs">
              <i class="fas fa-file-alt"></i>
              <span>Logs</span>
            </a>
          </li>
          <li class="menu-item">
            <a href="/configuracion">
              <i class="fas fa-cog"></i>
              <span>Configuración</span>
            </a>
          </li>
        </ul>
      </nav>
  
      <div class="sidebar-footer">
        <div class="user-info">
          <i class="fas fa-user-circle"></i>
          <span>Usuario</span>
        </div>
      </div>
    </aside>
  
    <main class="main-content">
      <div class="main-container">
        <header class="chat-header">
          <h1 class="chat-title">Agente IA General</h1>
          <button class="reset-button" (click)="resetChat()">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="23 4 23 10 17 10"></polyline>
              <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
            </svg>
            <span>Reiniciar Agente</span>
          </button>
        </header>
  
        <div class="chat-area" #chatArea>
          <div class="message-container">
            <div class="message" [ngClass]="message.type" *ngFor="let message of messages">
              <p class="message-text">{{ message.text }}</p>
              <span class="message-time">{{ message.time }}</span>
  
              <!-- 🔊 Botón de voz SOLO en mensajes del bot -->
              <button *ngIf="message.type === 'ai'" class="voice-btn" (click)="speakMessage(message.text)">
                <i class="fas fa-volume-up"></i>
              </button>
            </div>
          </div>
        </div>
  
        <div class="input-area">
          <div class="input-wrapper">
            <input 
              type="text" 
              class="message-input" 
              [(ngModel)]="messageText"
              (keypress)="onKeyPress($event)"
              placeholder="Escribe tu mensaje..."
            >
            <button class="send-button" (click)="sendMessage()">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="22" y1="2" x2="11" y2="13"></line>
                <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
              </svg>
            </button>
  
            <!-- 🎤 Nuevo botón de micrófono para grabar y convertir a texto -->
            <button class="mic-button" (click)="startListening()">
              <i class="fas fa-microphone"></i>
            </button>
          </div>
        </div>
      </div>
    </main>
  </div>
  